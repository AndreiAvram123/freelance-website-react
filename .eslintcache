[{"/Users/andreia/projects/freelance-website/src/repositories/ProductRepository.ts":"1","/Users/andreia/projects/freelance-website/src/pages/ExpandedProduct.tsx":"2","/Users/andreia/projects/freelance-website/src/App.tsx":"3","/Users/andreia/projects/freelance-website/src/components/reports/DashboardView/Dashboard.js":"4","/Users/andreia/projects/freelance-website/src/contexts/CategoriesContext.tsx":"5","/Users/andreia/projects/freelance-website/src/pages/Cart.tsx":"6","/Users/andreia/projects/freelance-website/src/components/reports/DashboardView/LatestProducts.tsx":"7","/Users/andreia/projects/freelance-website/src/components/Navbar.tsx":"8","/Users/andreia/projects/freelance-website/src/components/AddProductModal.tsx":"9","/Users/andreia/projects/freelance-website/src/index.js":"10","/Users/andreia/projects/freelance-website/src/pages/Register.tsx":"11","/Users/andreia/projects/freelance-website/src/pages/ProductsPage.tsx":"12","/Users/andreia/projects/freelance-website/src/components/modals/WriteReviewModal.tsx":"13","/Users/andreia/projects/freelance-website/src/components/ModifyProductModal.tsx":"14","/Users/andreia/projects/freelance-website/src/repositories/ReviewsRepository.ts":"15","/Users/andreia/projects/freelance-website/src/pages/Home.tsx":"16","/Users/andreia/projects/freelance-website/src/utils/ApiConstants.ts":"17","/Users/andreia/projects/freelance-website/src/components/Product.tsx":"18","/Users/andreia/projects/freelance-website/src/components/ConfirmationModal.tsx":"19","/Users/andreia/projects/freelance-website/src/entities/Order.ts":"20","/Users/andreia/projects/freelance-website/src/components/reports/DashboardView/LatestOrders.tsx":"21","/Users/andreia/projects/freelance-website/src/utils/Messages.ts":"22","/Users/andreia/projects/freelance-website/src/pages/SignIn.tsx":"23"},{"size":3258,"mtime":1607623625076,"results":"24","hashOfConfig":"25"},{"size":8545,"mtime":1607616936573,"results":"26","hashOfConfig":"25"},{"size":3288,"mtime":1607596881678,"results":"27","hashOfConfig":"25"},{"size":2616,"mtime":1607440802748,"results":"28","hashOfConfig":"25"},{"size":985,"mtime":1607596881672,"results":"29","hashOfConfig":"25"},{"size":5735,"mtime":1607252232363,"results":"30","hashOfConfig":"25"},{"size":5696,"mtime":1607634807903,"results":"31","hashOfConfig":"25"},{"size":3536,"mtime":1607597018044,"results":"32","hashOfConfig":"25"},{"size":5114,"mtime":1607597032022,"results":"33","hashOfConfig":"25"},{"size":199,"mtime":1606931208099,"results":"34","hashOfConfig":"25"},{"size":7439,"mtime":1606768034610,"results":"35","hashOfConfig":"25"},{"size":2991,"mtime":1607442253327,"results":"36","hashOfConfig":"25"},{"size":3642,"mtime":1607616802329,"results":"37","hashOfConfig":"25"},{"size":4765,"mtime":1607444564884,"results":"38","hashOfConfig":"25"},{"size":763,"mtime":1607616693156,"results":"39","hashOfConfig":"25"},{"size":1758,"mtime":1607017018819,"results":"40","hashOfConfig":"25"},{"size":1655,"mtime":1607624288715,"results":"41","hashOfConfig":"25"},{"size":2043,"mtime":1607619502696,"results":"42","hashOfConfig":"25"},{"size":2997,"mtime":1607621465352,"results":"43","hashOfConfig":"25"},{"size":441,"mtime":1607622034039,"results":"44","hashOfConfig":"25"},{"size":5432,"mtime":1607622485518,"results":"45","hashOfConfig":"25"},{"size":341,"mtime":1607622970434,"results":"46","hashOfConfig":"25"},{"size":4579,"mtime":1607341164870,"results":"47","hashOfConfig":"25"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"hcz9hf",{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"62"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"78","messages":"79","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"82","messages":"83","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"86","messages":"87","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"88","messages":"89","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"96","messages":"97","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/andreia/projects/freelance-website/src/repositories/ProductRepository.ts",[],"/Users/andreia/projects/freelance-website/src/pages/ExpandedProduct.tsx",[],"/Users/andreia/projects/freelance-website/src/App.tsx",[],["98","99"],"/Users/andreia/projects/freelance-website/src/components/reports/DashboardView/Dashboard.js",[],["100","101"],"/Users/andreia/projects/freelance-website/src/contexts/CategoriesContext.tsx",[],"/Users/andreia/projects/freelance-website/src/pages/Cart.tsx",["102","103"],"import React, {useContext, useEffect, useState} from 'react';\nimport CartProducts from './CartProducts';\nimport {CartContext} from \"../contexts/CartContext\";\nimport {fetchProduct} from \"../repositories/ProductRepository\";\nimport {ProductQuantity} from \"./CartItem\";\nimport {isUserLoggedIn} from \"../utils/UserManager\";\nimport {placeOrder} from \"../repositories/OrderRepository\";\nimport {deleteCartItems} from \"../components/StorageHandler\";\n\n\nconst Cart = () => {\n\n    const context = useContext(CartContext)\n\n    const [productsIDs,setProductsIDs] = [context.productsIDs,context.setProductsIDs]\n\n    const [cartProducts, setCartProducts] = useState(new Array<ProductQuantity>())\n\n    const [totalPrice ,setTotalPrice] = useState(0)\n\n    const [canCheckout, setCanCheckout] = useState(false)\n\n    useEffect(()=>{\n        let record : {[productID:number]: number} = {}\n        let tempPrice = 0\n        let tempCartProducts:Array<ProductQuantity> = []\n\n        productsIDs.forEach((id)=>{\n            if(record[id] === undefined){\n                record[id] = 0\n            }\n            record[id] ++\n        })\n        let promises = []\n        for (let key in record){\n            promises.push(fetchProduct(parseInt(key)).then(result=>{\n                let productQuantity:ProductQuantity={\n                    product:result,\n                    quantity : record[key]\n                }\n                tempCartProducts.push(productQuantity)\n                tempPrice += (productQuantity.quantity * productQuantity.product.price)\n            }).catch(error=>{\n                console.log(error)\n            }))\n        }\n        Promise.all(promises).then(()=>{\n            setTotalPrice(tempPrice)\n            setCartProducts(tempCartProducts)\n            validateCart(tempCartProducts)\n        })\n\n    },[productsIDs])\n\n    const handleCheckout = ()=>{\n        if(canCheckout){\n            if(isUserLoggedIn()){\n                let productsForOrder:Array<number> = []\n\n                cartProducts.forEach(productQuantity =>{\n                    for(let i = 0;i<productQuantity.quantity;i++){\n                        productsForOrder.push(productQuantity.product.productID)\n                    }\n                })\n               placeOrder(productsForOrder).then((result)=>{\n                   deleteCartItems()\n                   window.location.reload()\n               }).catch(error=>{\n                 console.log(error)\n               })\n\n            }else{\n                window.location.href = \"/login\"\n            }\n        }else{\n\n            // @ts-ignore\n            $('#cartErrorModal').modal('show')\n        }\n    }\n\n    function validateCart(products:Array<ProductQuantity>){\n        let valid = true\n        products.forEach(productQuantity=>{\n            if(productQuantity.product.stock === 0 || productQuantity.quantity > productQuantity.product.stock){\n                valid = false\n            }\n        })\n        setCanCheckout(valid)\n    }\n    return (\n        <div>\n            <div >\n                <div className=\"text-center mt-5\">\n                    <h1>Cart</h1>\n                    <p>This is the Cart Page.</p>\n                </div>\n\n                <div className=\"row no-gutters justify-content-center\">\n                    <div className=\"col-sm-9 p-3\">\n                        {\n                            productsIDs.length > 0 ?\n\n                            <CartProducts products={cartProducts}/> :\n                            <div className=\"p-3 text-center text-muted\">\n                                Your cart is empty\n                            </div>\n                        }\n                    </div>\n                    {\n                        productsIDs.length > 0 &&\n                        <div className=\"col-sm-3 p-3\">\n                            <div className=\"card card-body\">\n                                <p className=\"mb-1\">Total Items</p>\n                                <h4 className=\" mb-3 txt-right\">{productsIDs.length}</h4>\n                                <p className=\"mb-1\">Total Payment</p>\n                                <h3 className=\"m-0 txt-right\">{\"£\" + totalPrice}</h3>\n                                <hr className=\"my-4\"/>\n                                <div className=\"text-center\">\n                                    <button type=\"button\" className=\"btn btn-primary mb-2\"  onClick={handleCheckout}>CHECKOUT</button>\n                                </div>\n\n                            </div>\n                        </div>\n                    }\n                    \n                </div>\n            </div>\n\n            <div className=\"modal fade\" id=\"cartErrorModal\" tabIndex={-1} role=\"dialog\" aria-labelledby=\"cartErrorModal\" aria-hidden=\"true\">\n                <div className=\"modal-dialog\" role=\"document\">\n                    <div className=\"modal-content\">\n                        <div className=\"modal-header\">\n                            <h5 className=\"modal-title\" id=\"exampleModalLabel\">Modal title</h5>\n                            <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                                <span aria-hidden=\"true\">&times;</span>\n                            </button>\n                        </div>\n                        <div className=\"modal-body\">\n                             Some of the products are not available\n                        </div>\n                        <div className=\"modal-footer\">\n                            <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n     );\n}\n \nexport default Cart;","/Users/andreia/projects/freelance-website/src/components/reports/DashboardView/LatestProducts.tsx",[],"/Users/andreia/projects/freelance-website/src/components/Navbar.tsx",[],"/Users/andreia/projects/freelance-website/src/components/AddProductModal.tsx",[],"/Users/andreia/projects/freelance-website/src/index.js",[],["104","105"],"/Users/andreia/projects/freelance-website/src/pages/Register.tsx",[],"/Users/andreia/projects/freelance-website/src/pages/ProductsPage.tsx",[],"/Users/andreia/projects/freelance-website/src/components/modals/WriteReviewModal.tsx",[],"/Users/andreia/projects/freelance-website/src/components/ModifyProductModal.tsx",["106"],"/Users/andreia/projects/freelance-website/src/repositories/ReviewsRepository.ts",[],"/Users/andreia/projects/freelance-website/src/pages/Home.tsx",["107"],"/Users/andreia/projects/freelance-website/src/utils/ApiConstants.ts",[],"/Users/andreia/projects/freelance-website/src/components/Product.tsx",["108","109"],"/Users/andreia/projects/freelance-website/src/components/ConfirmationModal.tsx",["110","111","112","113","114"],"/Users/andreia/projects/freelance-website/src/entities/Order.ts",[],"/Users/andreia/projects/freelance-website/src/components/reports/DashboardView/LatestOrders.tsx",[],"/Users/andreia/projects/freelance-website/src/utils/Messages.ts",[],"/Users/andreia/projects/freelance-website/src/pages/SignIn.tsx",["115","116"],{"ruleId":"117","replacedBy":"118"},{"ruleId":"119","replacedBy":"120"},{"ruleId":"117","replacedBy":"121"},{"ruleId":"119","replacedBy":"122"},{"ruleId":"123","severity":1,"message":"124","line":15,"column":24,"nodeType":"125","messageId":"126","endLine":15,"endColumn":38},{"ruleId":"127","severity":1,"message":"128","line":36,"column":60,"nodeType":"129","messageId":"130","endLine":43,"endColumn":14},{"ruleId":"117","replacedBy":"131"},{"ruleId":"119","replacedBy":"132"},{"ruleId":"123","severity":1,"message":"133","line":11,"column":20,"nodeType":"125","messageId":"126","endLine":11,"endColumn":30},{"ruleId":"134","severity":1,"message":"135","line":27,"column":13,"nodeType":"136","endLine":27,"endColumn":74},{"ruleId":"123","severity":1,"message":"137","line":7,"column":8,"nodeType":"125","messageId":"126","endLine":7,"endColumn":19},{"ruleId":"123","severity":1,"message":"138","line":10,"column":8,"nodeType":"125","messageId":"126","endLine":10,"endColumn":14},{"ruleId":"123","severity":1,"message":"139","line":2,"column":16,"nodeType":"125","messageId":"126","endLine":2,"endColumn":27},{"ruleId":"123","severity":1,"message":"140","line":4,"column":35,"nodeType":"125","messageId":"126","endLine":4,"endColumn":47},{"ruleId":"123","severity":1,"message":"141","line":4,"column":49,"nodeType":"125","messageId":"126","endLine":4,"endColumn":59},{"ruleId":"123","severity":1,"message":"142","line":4,"column":61,"nodeType":"125","messageId":"126","endLine":4,"endColumn":66},{"ruleId":"123","severity":1,"message":"143","line":5,"column":9,"nodeType":"125","messageId":"126","endLine":5,"endColumn":14},{"ruleId":"123","severity":1,"message":"144","line":6,"column":8,"nodeType":"125","messageId":"126","endLine":6,"endColumn":24},{"ruleId":"123","severity":1,"message":"145","line":7,"column":8,"nodeType":"125","messageId":"126","endLine":7,"endColumn":16},"no-native-reassign",["146"],"no-negated-in-lhs",["147"],["146"],["147"],"@typescript-eslint/no-unused-vars","'setProductsIDs' is assigned a value but never used.","Identifier","unusedVar","no-loop-func","Function declared in a loop contains unsafe references to variable(s) 'tempPrice'.","ArrowFunctionExpression","unsafeRefs",["146"],["147"],"'setProduct' is assigned a value but never used.","jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","'CardActions' is defined but never used.","'Button' is defined but never used.","'OrderStatus' is defined but never used.","'createStyles' is defined but never used.","'makeStyles' is defined but never used.","'Theme' is defined but never used.","'green' is defined but never used.","'FormControlLabel' is defined but never used.","'Checkbox' is defined but never used.","no-global-assign","no-unsafe-negation"]